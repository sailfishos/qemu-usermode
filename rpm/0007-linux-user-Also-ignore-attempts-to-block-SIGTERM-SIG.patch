From a66c62b4db0643b10d2471b4b5ab046c7afd3cff Mon Sep 17 00:00:00 2001
From: Frajo Haider <f_haider@gmx.at>
Date: Thu, 23 Jan 2020 00:13:32 +0000
Subject: [PATCH 07/15] linux-user: Also ignore attempts to block SIGTERM,
 SIGINT and SIGHUP

---
 linux-user/signal.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/linux-user/signal.c b/linux-user/signal.c
index 8cf51ffecd..728929bcab 100644
--- a/linux-user/signal.c
+++ b/linux-user/signal.c
@@ -241,6 +241,9 @@ int do_sigprocmask(int how, const sigset_t *set, sigset_t *oldset)
         /* Silently ignore attempts to change blocking status of KILL or STOP */
         sigdelset(&ts->signal_mask, SIGKILL);
         sigdelset(&ts->signal_mask, SIGSTOP);
+        sigdelset(&ts->signal_mask, SIGINT);
+        sigdelset(&ts->signal_mask, SIGTERM);
+        sigdelset(&ts->signal_mask, SIGHUP);
     }
     return 0;
 }
-- 
2.26.2

